From 03fd8949b9b25b8d3d64fcf7fd9dbfff7aff91e9 Mon Sep 17 00:00:00 2001
From: William Woodall <william@osrfoundation.org>
Date: Tue, 22 Sep 2015 14:19:55 -0700
Subject: [PATCH 8/9] fix stage cmake config and make it relocatable

---
 stage-config.cmake.in | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/stage-config.cmake.in b/stage-config.cmake.in
index 6b60ce6..8683807 100644
--- a/stage-config.cmake.in
+++ b/stage-config.cmake.in
@@ -3,12 +3,12 @@
 #    STAGE_INCLUDE_DIRS - Stage Include directories
 #    STAGE_LIBRARIES    - Stage link libraries
 
-set(STAGE_INCLUDE_DIRS "@CMAKE_INSTALL_PREFIX@/include/@PROJECT_NAME@-@APIVERSION@" 
+set(STAGE_INCLUDE_DIRS "${stage_DIR}/../../../include/@PROJECT_NAME@-@APIVERSION@" 
   "@FLTK_INCLUDE_DIR@"
   "@OPENGL_INCLUDE_DIR@")
 list(REMOVE_DUPLICATES STAGE_INCLUDE_DIRS)
 set(STAGE_LIBRARIES 
-  "$<TARGET_FILE:stage>"
+  "${stage_DIR}/../../../@PROJECT_LIB_DIR@/$<TARGET_FILE_NAME:stage>"
   "@FLTK_LIBRARIES@"
   "@OPENGL_gl_LIBRARIES@")
   
-- 
2.9.0

